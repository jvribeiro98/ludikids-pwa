import{r,j as e,m as g}from"./index-Dw7NcWll.js";import{I as v}from"./IABox-B-FZ7DWT.js";function y({title:s,children:i,defaultOpen:l=!1}){const[o,a]=r.useState(l);return e.jsxs("div",{className:"rounded-2xl border border-[#EFD179] bg-white",children:[e.jsxs("button",{onClick:()=>a(!o),className:"w-full text-left px-4 py-3 font-semibold text-[#78C3C7] flex justify-between items-center",children:[s,e.jsx("span",{children:o?"−":"+"})]}),o&&e.jsx("div",{className:"px-4 pb-4 text-sm text-[#78C3C7]",children:i})]})}const d=[{key:"banho",label:"Banho",emoji:"🛁"},{key:"sono",label:"Sono",emoji:"😴"},{key:"alimentacao",label:"Alimentação",emoji:"🍽️"},{key:"fralda",label:"Fralda",emoji:"🧷"}];function x(s){return`lk_babycare_${s}`}function S(){var m,b;const[s,i]=r.useState(new Date().toISOString().slice(0,10)),[l,o]=r.useState(null),a=r.useMemo(()=>{try{return JSON.parse(localStorage.getItem(x(s)))||{notes:{}}}catch{return{notes:{}}}},[s]),[c,u]=r.useState({obs:((m=a.notes)==null?void 0:m.obs)||""}),j=()=>{const t={date:s,notes:{obs:c.obs},icons:a.icons||[]};localStorage.setItem(x(s),JSON.stringify(t))},f=t=>{const n=new Set(a.icons||[]);n.has(t)?n.delete(t):n.add(t);const p={...a,date:s,icons:Array.from(n),notes:c};localStorage.setItem(x(s),JSON.stringify(p)),o({key:t,label:d.find(h=>h.key===t).label})};return e.jsxs(g.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 min-h-screen bg-gradient-to-br from-[#FFF6E5] via-[#E3F8FA] to-[#FFE8E1] pb-28",children:[e.jsx("h1",{className:"text-xl font-bold text-[#78C3C7] text-center mb-3",children:"Baby Care"}),e.jsx("div",{className:"flex items-center justify-center mb-3",children:e.jsx("input",{type:"date",value:s,onChange:t=>i(t.target.value),className:"border rounded-2xl p-2 text-sm"})}),e.jsx(v,{baseText:"Prezada família, sou Lúdica. Hoje vou ajudar a registrar o dia do seu pequeno."}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-3 mt-4",children:d.map(t=>{const n=(a.icons||[]).includes(t.key);return e.jsxs("button",{onClick:()=>f(t.key),className:`rounded-2xl p-4 text-center border transition ${n?"bg-[#EFD179] text-white border-[#EFD179]":"bg-white text-[#78C3C7] border-[#A7E0E3]"}`,children:[e.jsx("div",{className:"text-2xl",children:t.emoji}),e.jsx("div",{className:"text-xs font-semibold",children:t.label})]},t.key)})}),e.jsx("div",{className:"space-y-3 mt-4",children:e.jsx(y,{title:"Observação do professor(a)",defaultOpen:!0,children:e.jsx("textarea",{className:"w-full border rounded-2xl p-2 text-sm",rows:3,value:c.obs,onChange:t=>u({obs:t.target.value})})})}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{onClick:j,className:"bg-[#78C3C7] text-white rounded-2xl px-4 py-2",children:"Salvar"})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/20 flex items-end sm:items-center justify-center z-50",onClick:()=>o(null),children:e.jsxs("div",{className:"bg-white rounded-t-3xl sm:rounded-3xl w-full sm:w-[420px] p-6 border border-[#EFD179] text-center",children:[e.jsx("div",{className:"text-5xl mb-2",children:(b=d.find(t=>t.key===l.key))==null?void 0:b.emoji}),e.jsx("div",{className:"font-bold text-[#78C3C7]",children:l.label})]})})]})}export{S as default};
