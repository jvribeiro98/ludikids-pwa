import{a as j,r as h,j as e,m as f}from"./index-B1yyHhvA.js";const u={festa:"#EFD179",reuniao:"#78C3C7",tarefa:"#E99A8C"};function b(m,r){const s=new Date(m,r,1),i=new Date(s);i.setDate(s.getDate()-(s.getDay()+6)%7);const o=[];for(let n=0;n<6;n++){const c=[];for(let l=0;l<7;l++){const d=new Date(i);d.setDate(i.getDate()+n*7+l),c.push(d)}o.push(c)}return o}function N(){const[m]=j("lk_events",[]),r=new Date,[s,i]=h.useState({y:r.getFullYear(),m:r.getMonth()}),o=h.useMemo(()=>b(s.y,s.m),[s]),[n,c]=h.useState({open:!1,date:null}),l=t=>m.filter(a=>a.date===t.toISOString().slice(0,10)),d=new Date(s.y,s.m).toLocaleDateString("pt-BR",{month:"long",year:"numeric"});return e.jsxs(f.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 min-h-screen bg-[#FFF6E5] pb-28",children:[e.jsx("h1",{className:"text-xl font-bold text-[#78C3C7] mb-4 text-center",children:"Calendário Escolar"}),e.jsxs("div",{className:"bg-white p-4 rounded-3xl shadow-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("button",{className:"text-[#78C3C7]",onClick:()=>i(({y:t,m:a})=>a===0?{y:t-1,m:11}:{y:t,m:a-1}),children:"◀"}),e.jsx("span",{className:"font-semibold text-[#E99A8C]",children:d}),e.jsx("button",{className:"text-[#78C3C7]",onClick:()=>i(({y:t,m:a})=>a===11?{y:t+1,m:0}:{y:t,m:a+1}),children:"▶"})]}),e.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-xs text-[#78C3C7] mb-2",children:["Seg","Ter","Qua","Qui","Sex","Sáb","Dom"].map(t=>e.jsx("div",{className:"font-semibold",children:t},t))}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:o.flat().map((t,a)=>{const p=t.getMonth()===s.m,g=l(t);return e.jsxs("div",{className:`p-2 rounded-xl text-center cursor-pointer border ${p?"bg-[#E3F8FA]":"bg-gray-50 text-gray-400"} border-[#A7E0E3]`,onClick:()=>c({open:!0,date:t}),children:[e.jsx("div",{className:"text-sm text-[#78C3C7]",children:t.getDate()}),e.jsx("div",{className:"flex gap-1 justify-center mt-1",children:g.slice(0,3).map(x=>e.jsx("span",{title:x.title,className:"w-2 h-2 rounded-full",style:{background:u[x.type]}},x.id))})]},a)})})]}),n.open&&e.jsx("div",{className:"fixed inset-0 bg-black/20 flex items-end sm:items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-t-3xl sm:rounded-3xl w-full sm:w-[520px] p-4 border border-[#EFD179]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h3",{className:"font-bold text-[#78C3C7]",children:n.date.toLocaleDateString("pt-BR")}),e.jsx("button",{className:"text-[#E99A8C]",onClick:()=>c({open:!1,date:null}),children:"Fechar"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs text-[#78C3C7]",children:"Somente leitura • Gerenciado pelo Admin"}),e.jsxs("div",{className:"mt-2 space-y-2 max-h-60 overflow-auto no-scrollbar",children:[l(n.date).map(t=>e.jsx("div",{className:"flex items-center justify-between bg-[#E3F8FA] p-2 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full",style:{background:u[t.type]}}),e.jsx("span",{className:"text-sm text-[#78C3C7]",children:t.title})]})},t.id)),l(n.date).length===0&&e.jsx("div",{className:"text-center text-sm text-gray-500",children:"Sem eventos"})]})]})]})})]})}export{N as default};
