import{a as l,r as n,j as t,m as p,z as b}from"./index-Dw7NcWll.js";const j="lk_avisos";function N(){const[d]=l(j,[{id:1,title:"Material de Arte",image:"",autor:"CoordenaÃ§Ã£o",texto:"Trazer o material de arte amanhÃ£ ðŸŽ¨",createdAt:Date.now()-864e5},{id:2,title:"Passeio ao Parque",image:"",autor:"CoordenaÃ§Ã£o",texto:"Sexta-feira teremos passeio. Enviar autorizaÃ§Ã£o assinada.",createdAt:Date.now()-36e5}]),[i,x]=n.useState(""),[s,m]=l("lk_avisos_likes",{}),[r,u]=l("lk_avisos_acks",{}),[o,a]=n.useState(null),c=n.useMemo(()=>(d||[]).filter(e=>(e==null?void 0:e.approved)||(e==null?void 0:e.autor)==="CoordenaÃ§Ã£o").filter(e=>`${e.title||""} ${e.texto||""}`.toLowerCase().includes(i.toLowerCase())),[d,i]),C=e=>m({...s,[e]:!s[e]}),h=()=>{o&&(u({...r,[o]:!0}),b.success("Marcado como ciente"),a(null))};return t.jsxs(p.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 min-h-screen bg-[#FFE8E1] pb-28",children:[t.jsx("h1",{className:"text-xl font-bold text-[#E99A8C] text-center mb-4",children:"Avisos"}),t.jsx("div",{className:"mb-3",children:t.jsx("input",{value:i,onChange:e=>x(e.target.value),placeholder:"Pesquisar avisos...",className:"w-full border rounded-2xl p-2 text-sm"})}),t.jsxs("div",{className:"space-y-4",children:[c.map(e=>t.jsxs("div",{className:"p-4 rounded-3xl shadow-md bg-white text-[#78C3C7] border border-[#EFD179]",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-[#E99A8C]",children:e.title||"Aviso"}),t.jsx("div",{className:"text-xs text-[#78C3C7] opacity-80",children:new Date(e.createdAt).toLocaleString("pt-BR")})]}),t.jsx("div",{className:"text-xs text-[#78C3C7]",children:e.autor})]}),e.image&&t.jsx("img",{src:e.image,alt:"",className:"w-full h-36 object-cover rounded-2xl mt-2"}),t.jsx("p",{className:"mt-2",children:e.texto}),t.jsxs("div",{className:"mt-3 flex items-center justify-end gap-3",children:[t.jsxs("button",{onClick:()=>C(e.id),className:`px-3 py-1 rounded-full text-sm border ${s[e.id]?"bg-[#EFD179] text-white border-[#EFD179]":"text-[#EFD179] border-[#EFD179]"}`,children:["â¤ï¸ ",s[e.id]?"Curtido":"Curtir"]}),t.jsx("button",{onClick:()=>a(e.id),className:`px-3 py-1 rounded-full text-sm border ${r[e.id]?"bg-[#78C3C7] text-white border-[#78C3C7]":"text-[#78C3C7] border-[#78C3C7]"}`,children:r[e.id]?"Ciente âœ…":"Ciente"})]})]},e.id)),c.length===0&&t.jsx("div",{className:"text-center text-sm text-gray-500",children:"Sem avisos"})]}),t.jsx("div",{className:"mt-6 text-center text-xs text-[#78C3C7]",children:"Avisos sÃ£o gerenciados pelo Admin."}),o&&t.jsx("div",{className:"fixed inset-0 bg-black/20 flex items-end sm:items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-t-3xl sm:rounded-3xl w-full sm:w-[420px] p-4 border border-[#EFD179]",children:[t.jsx("div",{className:"font-bold text-[#78C3C7] mb-2",children:"Confirmar ciÃªncia"}),t.jsx("p",{className:"text-sm text-[#78C3C7] mb-3",children:'Deseja marcar este aviso como "Ciente"?'}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{className:"px-3 py-1 rounded-xl border text-[#78C3C7]",onClick:()=>a(null),children:"Cancelar"}),t.jsx("button",{className:"px-3 py-1 rounded-xl bg-[#78C3C7] text-white",onClick:h,children:"Confirmar"})]})]})})]})}export{N as default};
