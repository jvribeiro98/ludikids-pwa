import{r as i,j as e,m as C}from"./index-CJMnui7n.js";import{I as k}from"./IABox-DNxteWzD.js";function c({title:s,children:x,defaultOpen:r=!1}){const[o,a]=i.useState(r);return e.jsxs("div",{className:"rounded-2xl border border-[#EFD179] bg-white",children:[e.jsxs("button",{onClick:()=>a(!o),className:"w-full text-left px-4 py-3 font-semibold text-[#78C3C7] flex justify-between items-center",children:[s,e.jsx("span",{children:o?"−":"+"})]}),o&&e.jsx("div",{className:"px-4 pb-4 text-sm text-[#78C3C7]",children:x})]})}const m=[{key:"banho",label:"Banho",emoji:"🛁"},{key:"sono",label:"Sono",emoji:"😴"},{key:"alimentacao",label:"Alimentação",emoji:"🍽️"},{key:"fralda",label:"Fralda",emoji:"🧷"}];function u(s){return`lk_babycare_${s}`}function O(){var b,f,j,h,p;const[s,x]=i.useState(new Date().toISOString().slice(0,10)),[r,o]=i.useState(null),a=i.useMemo(()=>{try{return JSON.parse(localStorage.getItem(u(s)))||{notes:{}}}catch{return{notes:{}}}},[s]),[l,d]=i.useState({obs:((b=a.notes)==null?void 0:b.obs)||"",diff:((f=a.notes)==null?void 0:f.diff)||"",like:((j=a.notes)==null?void 0:j.like)||"",dislike:((h=a.notes)==null?void 0:h.dislike)||""}),g=()=>{const t={date:s,notes:l,icons:a.icons||[]};localStorage.setItem(u(s),JSON.stringify(t))},v=t=>{const n=new Set(a.icons||[]);n.has(t)?n.delete(t):n.add(t);const N={...a,date:s,icons:Array.from(n),notes:l};localStorage.setItem(u(s),JSON.stringify(N)),o({key:t,label:m.find(y=>y.key===t).label})};return e.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 min-h-screen bg-gradient-to-br from-[#FFF6E5] via-[#E3F8FA] to-[#FFE8E1] pb-28",children:[e.jsx("h1",{className:"text-xl font-bold text-[#78C3C7] text-center mb-3",children:"Baby Care"}),e.jsx("div",{className:"flex items-center justify-center mb-3",children:e.jsx("input",{type:"date",value:s,onChange:t=>x(t.target.value),className:"border rounded-2xl p-2 text-sm"})}),e.jsx(k,{baseText:"Prezada família, sou Vicky. Hoje vou ajudar a registrar o dia do seu pequeno."}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-3 mt-4",children:m.map(t=>{const n=(a.icons||[]).includes(t.key);return e.jsxs("button",{onClick:()=>v(t.key),className:`rounded-2xl p-4 text-center border transition ${n?"bg-[#EFD179] text-white border-[#EFD179]":"bg-white text-[#78C3C7] border-[#A7E0E3]"}`,children:[e.jsx("div",{className:"text-2xl",children:t.emoji}),e.jsx("div",{className:"text-xs font-semibold",children:t.label})]},t.key)})}),e.jsxs("div",{className:"space-y-3 mt-4",children:[e.jsx(c,{title:"Observação do professor(a)",defaultOpen:!0,children:e.jsx("textarea",{className:"w-full border rounded-2xl p-2 text-sm",rows:3,value:l.obs,onChange:t=>d({...l,obs:t.target.value})})}),e.jsx(c,{title:"Ocorreu algo diferente na rotina?",children:e.jsx("textarea",{className:"w-full border rounded-2xl p-2 text-sm",rows:3,value:l.diff,onChange:t=>d({...l,diff:t.target.value})})}),e.jsx(c,{title:"O que o aluno gosta",children:e.jsx("textarea",{className:"w-full border rounded-2xl p-2 text-sm",rows:3,value:l.like,onChange:t=>d({...l,like:t.target.value})})}),e.jsx(c,{title:"O que o aluno NÃO gosta",children:e.jsx("textarea",{className:"w-full border rounded-2xl p-2 text-sm",rows:3,value:l.dislike,onChange:t=>d({...l,dislike:t.target.value})})})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{onClick:g,className:"bg-[#78C3C7] text-white rounded-2xl px-4 py-2",children:"Salvar"})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/20 flex items-end sm:items-center justify-center z-50",onClick:()=>o(null),children:e.jsxs("div",{className:"bg-white rounded-t-3xl sm:rounded-3xl w-full sm:w-[420px] p-6 border border-[#EFD179] text-center",children:[e.jsx("div",{className:"text-5xl mb-2",children:(p=m.find(t=>t.key===r.key))==null?void 0:p.emoji}),e.jsx("div",{className:"font-bold text-[#78C3C7]",children:r.label})]})})]})}export{O as default};
