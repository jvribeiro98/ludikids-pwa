import{a as h,r as s,b as f,j as t,m as b}from"./index-CJMnui7n.js";function v(){const{messages:a,send:i,connected:l,userId:c}=h("user"),[r,n]=s.useState(""),d=f(),o=s.useRef(null);s.useEffect(()=>{var e;(e=o.current)==null||e.scrollIntoView({behavior:"smooth"})},[a.length]);const x=s.useMemo(()=>a.filter(e=>["user","admin"].includes(e.role)),[a]),m=e=>{e.preventDefault(),r.trim()&&(i({type:"chat",role:"user",text:r.trim(),userId:c}),n(""))};return t.jsxs(b.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 min-h-screen bg-gradient-to-br from-[#FFF6E5] via-[#E3F8FA] to-[#FFE8E1] pb-28",children:[t.jsx("h1",{className:"text-xl font-bold text-[#78C3C7] text-center mb-3",children:"Chat com a Administração"}),t.jsxs("div",{className:"text-center text-xs mb-3 text-[#78C3C7]",children:[d?"Online":"Offline"," • ",l?"Conectado":"Desconectado"]}),t.jsxs("div",{className:"bg-white rounded-3xl shadow-md border border-[#EFD179] p-4 h-[60vh] overflow-auto no-scrollbar",children:[x.map((e,u)=>t.jsx("div",{className:`flex ${e.role==="user"?"justify-end":"justify-start"} mb-2`,children:t.jsx("div",{className:`${e.role==="user"?"bg-[#78C3C7] text-white":"bg-[#E3F8FA] text-[#78C3C7]"} px-3 py-2 rounded-2xl max-w-[70%]`,children:e.text})},u)),t.jsx("div",{ref:o})]}),t.jsxs("form",{onSubmit:m,className:"mt-3 flex gap-2",children:[t.jsx("input",{value:r,onChange:e=>n(e.target.value),placeholder:"Escreva sua mensagem...",className:"flex-1 border rounded-2xl p-2 text-sm"}),t.jsx("button",{className:"bg-[#E99A8C] text-white rounded-2xl px-4",children:"Enviar"})]})]})}export{v as default};
