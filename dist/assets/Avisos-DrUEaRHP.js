import{u as l,r as n,j as e,m as b,z as j}from"./index-DxZaz-NH.js";const p="lk_avisos";function N(){const[c]=l(p,[{id:1,title:"Material de Arte",image:"",autor:"Coordenação",texto:"Trazer o material de arte amanhã 🎨",createdAt:Date.now()-864e5},{id:2,title:"Passeio ao Parque",image:"",autor:"Coordenação",texto:"Sexta-feira teremos passeio. Enviar autorização assinada.",createdAt:Date.now()-36e5}]),[i,x]=n.useState(""),[s,m]=l("lk_avisos_likes",{}),[a,u]=l("lk_avisos_acks",{}),[r,o]=n.useState(null),d=n.useMemo(()=>c.filter(t=>`${t.title||""} ${t.texto||""}`.toLowerCase().includes(i.toLowerCase())),[c,i]),C=t=>m({...s,[t]:!s[t]}),h=()=>{r&&(u({...a,[r]:!0}),j.success("Marcado como ciente"),o(null))};return e.jsxs(b.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 min-h-screen bg-[#FFE8E1] pb-28",children:[e.jsx("h1",{className:"text-xl font-bold text-[#E99A8C] text-center mb-4",children:"Avisos"}),e.jsx("div",{className:"mb-3",children:e.jsx("input",{value:i,onChange:t=>x(t.target.value),placeholder:"Pesquisar avisos...",className:"w-full border rounded-2xl p-2 text-sm"})}),e.jsxs("div",{className:"space-y-4",children:[d.map(t=>e.jsxs("div",{className:"p-4 rounded-3xl shadow-md bg-white text-[#78C3C7] border border-[#EFD179]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-[#E99A8C]",children:t.title||"Aviso"}),e.jsx("div",{className:"text-xs text-[#78C3C7] opacity-80",children:new Date(t.createdAt).toLocaleString("pt-BR")})]}),e.jsx("div",{className:"text-xs text-[#78C3C7]",children:t.autor})]}),t.image&&e.jsx("img",{src:t.image,alt:"",className:"w-full h-36 object-cover rounded-2xl mt-2"}),e.jsx("p",{className:"mt-2",children:t.texto}),e.jsxs("div",{className:"mt-3 flex items-center justify-end gap-3",children:[e.jsxs("button",{onClick:()=>C(t.id),className:`px-3 py-1 rounded-full text-sm border ${s[t.id]?"bg-[#EFD179] text-white border-[#EFD179]":"text-[#EFD179] border-[#EFD179]"}`,children:["❤️ ",s[t.id]?"Curtido":"Curtir"]}),e.jsx("button",{onClick:()=>o(t.id),className:`px-3 py-1 rounded-full text-sm border ${a[t.id]?"bg-[#78C3C7] text-white border-[#78C3C7]":"text-[#78C3C7] border-[#78C3C7]"}`,children:a[t.id]?"Ciente ✅":"Ciente"})]})]},t.id)),d.length===0&&e.jsx("div",{className:"text-center text-sm text-gray-500",children:"Sem avisos"})]}),e.jsx("div",{className:"mt-6 text-center text-xs text-[#78C3C7]",children:"Avisos são gerenciados pelo Admin."}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/20 flex items-end sm:items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-t-3xl sm:rounded-3xl w-full sm:w-[420px] p-4 border border-[#EFD179]",children:[e.jsx("div",{className:"font-bold text-[#78C3C7] mb-2",children:"Confirmar ciência"}),e.jsx("p",{className:"text-sm text-[#78C3C7] mb-3",children:'Deseja marcar este aviso como "Ciente"?'}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 rounded-xl border text-[#78C3C7]",onClick:()=>o(null),children:"Cancelar"}),e.jsx("button",{className:"px-3 py-1 rounded-xl bg-[#78C3C7] text-white",onClick:h,children:"Confirmar"})]})]})})]})}export{N as default};
